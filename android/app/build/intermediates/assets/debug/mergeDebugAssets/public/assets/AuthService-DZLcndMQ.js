import{T as l,n as d,o as m,p as h,r as s,u as o}from"./auth.client-CflvfX9_.js";import{b as f}from"./AuthContext-sY7-ro_6.js";function g(e){return{uid:e.uid,display_name:e.displayName||"unnamed",profile_image:e.photoURL??"",cover_image:"",created_at:l.now(),achievements:[],overall:{rank:"iron",xp:0,stack:0,life:5,gems:100}}}function c(){const e=["brave","quick","silly","smart","lazy","kind","cool","happy","bold","fuzzy"],t=["tiger","panda","lion","koala","fox","eagle","wolf","whale","shark","otter"],a=e[Math.floor(Math.random()*e.length)],r=t[Math.floor(Math.random()*t.length)],n=Math.floor(1e3+Math.random()*9e3);return`${a}${p(r)}${n}`}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}async function M({email:e,password:t,displayName:a}){try{const n=(await h(s,e,t)).user;if(!n.displayName){const u=c();await o(n,{displayName:a||u})}const i=g(n);return await f(i),n}catch(r){return{errorCode:r.code,errorMessage:r.message}}}async function N({email:e,password:t}){return m(s,e,t).then(async a=>{const r=a.user;return r.displayName==null&&await y({displayName:c()}),r}).catch(a=>{const r=a.code,n=a.message;return{errorCode:r,errorMessage:n}})}function k(){return d(s).then(()=>(console.log("succesfully"),!0)).catch(e=>(console.log("failed"),!1))}async function y(e){var t;return(t=s)!=null&&t.currentUser?o(s.currentUser,e).then(()=>!0).catch(a=>{const r=a.code,n=a.message;return{errorCode:r,errorMessage:n}}):{errorMessage:"Please Login before."}}export{N as l,M as r,k as s};
