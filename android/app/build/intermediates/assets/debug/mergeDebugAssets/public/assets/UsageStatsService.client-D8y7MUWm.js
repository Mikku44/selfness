import{d as r,a as s,t as c,v as a,x as u,b as d}from"./auth.client-CflvfX9_.js";const i="usage-stats";async function l({id:n}){if(typeof window>"u")return null;try{if(!r)throw new Error("Firestore not initialized");const e=s(r,i,n),t=await d(e);return t.exists()?{id:t.id,...t.data()}:null}catch(e){return console.error("Error fetching document:",e),null}}async function p(n,e){if(typeof window>"u")return!1;try{if(!r)throw new Error("Firestore not initialized");const t=s(r,i,n),o={count:a(1),latest_update:c()};return o[`source.${e.device}`]=a(1),await u(t,o),!0}catch(t){return console.error("Error updating usage stats:",t),!1}}export{l as g,p as u};
